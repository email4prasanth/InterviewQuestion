# DevOps Implementation Summary

## 1. Infrastructure Setup
- Provisioned **3 VMs** based on client requirements:  
  - **Backend VM** – runs core services.  
  - **ETL VM** – runs data transformation services.  
  - **Redis VM** – used for caching.  

## 2. Kafka Migration
- Initially Kafka + Zookeeper were deployed in the **Backend VM**.  
- Requirement changed → both Backend and ETL needed Kafka.  
- To centralize, I moved **Kafka + Zookeeper to the Redis VM** using Docker Compose.  
- Configured a **Docker shared network** to allow cross-VM service communication.  

## 3. Service Reliability
- **Issue:** Backend modules failed to connect to Kafka after daily VM restarts.  
- **Fix:**  
  - Added a **systemd service with delayed restart** to ensure modules start only after Kafka is ready.  
  - Added **health checks** for Zookeeper and Kafka containers.  

## 4. Monitoring & Logging
- Implemented monitoring for each Kafka topic:  
  - **Messages in queue (lag)**  
  - **Messages processed**  
  - **Errors (DLQ)**  
- Wrote a **Kafka monitoring script** (`/usr/local/bin/kafka_monitor.sh`) scheduled via cron.  
- Logs are pushed to **syslog (local4)** and integrated with **Azure Log Analytics** for dashboards/queries.  

## 5. Validation
- Verified connectivity by producing/consuming test messages:  
  - From Redis VM (local Kafka).  
  - From Backend and ETL VMs (remote Kafka).  
- Installed Kafka CLI tools on Backend and ETL for troubleshooting.  
- Confirmed metrics collection in syslog and queries in Log Analytics.  

---

✅ **Outcome:**  
- Kafka is now **centralized and stable** on the Redis VM.  
- **Cross-VM communication** works reliably via shared Docker network.  
- **Startup dependency issue resolved** with systemd delayed restart.  
- **End-to-end monitoring** in place (processed, queued, errors) with integration into syslog + Log Analytics.  

---
### resume highlight
Centralized Kafka on Redis VM for Backend & ETL VMs, implemented Docker shared network, automated module startup with systemd, enabled end-to-end monitoring of topic offsets, message lag, and DLQ errors via cron-driven scripts and syslog integration with Azure Log Analytics.
### Oneline
Implemented centralized Kafka on VM with Docker, ensuring reliable cross-VM communication, automated service restarts, and real-time monitoring of message processing and errors.